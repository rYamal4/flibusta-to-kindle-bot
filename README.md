# Flibusta to Kindle Bot

–ü—Ä–æ—Å—Ç–æ–π Telegram –±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–Ω–∏–≥ –Ω–∞ Flibusta –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏—Ö –Ω–∞ Kindle —á–µ—Ä–µ–∑ email.

<p>
  <img src="images/img.png" width="400" />
</p>

<p>
  <img src="images/img_1.png" width="400" />
</p>

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üìñ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–≥–µ (–∞–≤—Ç–æ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è)
- üìß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–Ω–∏–≥ –Ω–∞ Kindle —á–µ—Ä–µ–∑ email
- üîí –†–µ–∂–∏–º –¥–æ—Å—Ç—É–ø–∞ - –ø—É–±–ª–∏—á–Ω—ã–π –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üê≥ –ì–æ—Ç–æ–≤—ã–µ Docker –∏ Docker Compose —Ñ–∞–π–ª—ã

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 21 –∏–ª–∏ –≤—ã—à–µ
- Telegram Bot Token
- SMTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º (Gmail, Yandex, Mail.ru –∏ –¥—Ä.)
- –ê–∫–∫–∞—É–Ω—Ç –Ω–∞ Amazon Kindle

–î–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:

```properties
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_USER_ID=your_telegram_user_id        # —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ IS_PUBLIC_BOT=false
SMTP_HOST=smtp.gmail.com:587
SENDER_EMAIL=your_email@gmail.com
SENDER_PASSWORD=your_app_password
FLIBUSTA_URL=https://m.flibusta.is
IS_PUBLIC_BOT=true                            # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é: true
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

    ```bash
    git clone https://github.com/rYamal4/flibusta-to-kindle-bot.git
    cd flibusta-to-kindle-bot
    ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:

3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

    ```bash
    docker-compose up -d
    ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### TELEGRAM_BOT_TOKEN

–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –æ—Ç [@BotFather](https://t.me/BotFather):

1. –ù–∞–ø–∏—à–∏—Ç–µ `/newbot`
2. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### TELEGRAM_USER_ID

–£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π ID —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot):

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID

### SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### Gmail

- SMTP_HOST: `smtp.gmail.com:587`
- SENDER_PASSWORD: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [App Password](https://myaccount.google.com/apppasswords)

#### Yandex

- SMTP_HOST: `smtp.yandex.ru:587`
- SENDER_PASSWORD: –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ—á—Ç—ã

#### Mail.ru

- SMTP_HOST: `smtp.mail.ru:587`
- SENDER_PASSWORD: –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ—á—Ç—ã

### IS_PUBLIC_BOT

–†–µ–∂–∏–º –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É:

- `true` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –±–æ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `false` - –±–æ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID, —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ `TELEGRAM_USER_ID`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ email –Ω–∞ Kindle

**–í–∞–∂–Ω–æ:** –î–æ–±–∞–≤—å—Ç–µ `SENDER_EMAIL` –≤ —Å–ø–∏—Å–æ–∫ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Amazon Content and Devices](https://www.amazon.com/hz/mycd/myx)
2. Preferences ‚Üí Personal Document Settings
3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à email –≤ "Approved Personal Document E-mail List"

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/email your@kindle.com` –≤ –±–æ—Ç–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—á—Ç—ã.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã

- `/start` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º email
- `/email your@kindle.com` - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—á—Ç—É –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Kindle

### –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

1. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ –±–æ—Ç—É –±–µ–∑ –∫–æ–º–∞–Ω–¥—ã - –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω—ë—Ç –ø–æ–∏—Å–∫.
2. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–π –≤–∞—Å –∫–Ω–∏–≥–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä,
   –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü).
3. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ **"–ù–∞ Kindle"** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–Ω–∏–≥–∏ –Ω–∞ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç.
4. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã –Ω–∞ Kindle!